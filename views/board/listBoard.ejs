<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>새싹 스터디 게시판</title>
    <link rel="stylesheet" href="/static/css/boardCommon.css" />
    <link rel="stylesheet" href="/static/css/boardSearch.css" />
    <link rel="stylesheet" href="css/css.css" />
    <!-- CDN -->
    <%- include('../cdn/cdn.ejs') %>
    <!-- 게시판 목록 조회, 특정 게시글 조회 -->
    <link rel="stylesheet" href="/static/css/boardCommon.css" />
    <link rel="stylesheet" href="/static/css/viewBoard.css" />
    <script defer src="/static/js/viewBoard.js"></script>
    <!-- header -->
    <link rel="stylesheet" href="/static/css/header.css" />
    <!-- 게시물 목록에서도 로그인/회원가입 모달창 사용하기 위해 js 파일 필요함 -->
    <script defer src="/static/js/loginRegister.js"></script>
  </head>
  <body>
    <%- include('../includes/header.ejs') %>
    <div class="board_wrap">
      <div class="board_title">
        <strong>새싹 스터디 게시판🌱</strong>
        <p>새싹 스터디 게시판입니다. 자유롭게 작성해주세요~~</p>
      </div>

      <div class="board_list_wrap">
        <!-- 게시물 -->
        <div class="top row">
          <div class="num col-1">번호</div>
          <div class="title col-1">제목</div>
          <div class="date col-1">작성일</div>
          <div class="count col-1">조회수</div>
        </div>
        <div class="board_list" id="boardList">
          <% let num = 1 %> <% data.forEach((board) => { %>
          <div class="">
            <div class="num"><%= num %></div>
            <div class="title">
              <a href="/board?boardSeq=<%= board.boardSeq %>" class="view-link">
                <%= board.title %>
              </a>
            </div>
            <div class="date">
              <%= board.dataValues.year + '-' + board.dataValues.month + '-' +
              board.dataValues.month %>
            </div>
            <div class="count"><%= board.count %></div>
          </div>
          <% num++ %> <% }) %>
        </div>

        <!-- 검색 창 -->
        <div class="search_box">
          <input
            type="text"
            id="searchInput"
            placeholder="검색어를 입력하세요"
          />
          <button id="searchButton">검색</button>
        </div>
        <!-- 검색 결과를 표시할 목록 -->
        <div id="searchBoardList"></div>
      </div>
      <!-- 페이지 번호 -->
      <div class="board_page" id="pagination">
        <div onclick="changePageNum(this)">1</div>
        <% for (i = 1; i < Math.ceil(allBoardLen / 5); i++) { %>
        <div onclick="changePageNum(this)"><%= i+1 %></div>
        <% } %>
      </div>
      <div class="bt_wrap">
        <% if (typeof session === 'undefined') { %>
        <a
          href=""
          class="text-decoration-none on"
          data-bs-toggle="modal"
          data-bs-target="#loginModal"
          >글 작성하기</a
        >
        <% } else { %>
        <a href="/board/register" class="on">글 작성하기</a>
        <% } %>
      </div>
    </div>

    <!-- listBoard.js 파일을 연결 -->
    <script src="/static/js/listBoard.js"></script>
  </body>
</html>
